{"version":3,"file":null,"sources":["/home/carlo/projects/sakura-arms-companion/src/service-worker-registration.js","/home/carlo/projects/sakura-arms-companion/node_modules/hyperapp/src/index.js","/home/carlo/projects/sakura-arms-companion/src/actions/board.js","/home/carlo/projects/sakura-arms-companion/src/states/board.js","/home/carlo/projects/sakura-arms-companion/src/views/token.js","/home/carlo/projects/sakura-arms-companion/src/views/Pool.js","/home/carlo/projects/sakura-arms-companion/src/views/PlayerArea.js","/home/carlo/projects/sakura-arms-companion/src/views/board.js","/home/carlo/projects/sakura-arms-companion/node_modules/@hyperapp/logger/src/defaultLog.js","/home/carlo/projects/sakura-arms-companion/node_modules/@hyperapp/logger/src/index.js","/home/carlo/projects/sakura-arms-companion/src/app-69dbe5a228.js"],"sourcesContent":["/**\n * Copyright 2015 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-env browser */\n'use strict'\n\nif ('serviceWorker' in navigator) {\n  // Delay registration until after the page has loaded, to ensure that our\n  // precaching requests don't degrade the first visit experience.\n  // See https://developers.google.com/web/fundamentals/instant-and-offline/service-worker/registration\n  window.addEventListener('load', function() {\n    // Your service-worker-190594d5b0.js *must* be located at the top-level directory relative to your site.\n    // It won't be able to control pages unless it's located at the same level or higher than them.\n    // *Don't* register service worker file in, e.g., a scripts/ sub-directory!\n    // See https://github.com/slightlyoff/ServiceWorker/issues/468\n    navigator.serviceWorker\n      .register(`service-worker-190594d5b0.js`, {\n        scope: window.location.pathname\n      })\n      .then(function(reg) {\n        // updatefound is fired if service-worker-190594d5b0.js changes.\n        reg.onupdatefound = function() {\n          // The updatefound event implies that reg.installing is set; see\n          // https://w3c.github.io/ServiceWorker/#service-worker-registration-updatefound-event\n          var installingWorker = reg.installing\n\n          installingWorker.onstatechange = function() {\n            switch (installingWorker.state) {\n              case 'installed':\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and the fresh content will\n                  // have been added to the cache.\n                  // It's the perfect time to display a \"New content is available; please refresh.\"\n                  // message in the page's interface.\n                  console.log('New or updated content is available.')\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a \"Content is cached for offline use.\" message.\n                  console.log('Content is now available offline!')\n                }\n                break\n\n              case 'redundant':\n                console.error('The installing service worker became redundant.')\n                break\n            }\n          }\n        }\n      })\n      .catch(function(e) {\n        console.error('Error during service worker registration:', e)\n      })\n  })\n}\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null ? node : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function set(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1 ? set(path.slice(1), value, source[path[0]]) : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function get(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(get(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = get(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = set(path, clone(state, result), globalState))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      for (var i in clone(oldValue, value)) {\n        var style = value == null || value[i] == null ? \"\" : value[i]\n        if (i[0] === \"-\") {\n          element[name].setProperty(i, style)\n        } else {\n          element[name][i] = style\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (name in element && name !== \"list\" && !isSvg) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","const actions = {\n  board: {\n    startDrag: src => () => ({\n      src,\n      dragging: true\n    }),\n    over: dst => ({ dragging, src }) => ({\n      dst: dragging && dst != src ? dst : null\n    }),\n    reset: () => () => ({ src: null, dst: null, dragging: false })\n  },\n  dropToken: dst => ({ board: { src }, ledger }) => {\n    if (dst == src || src == null || dst == null) {\n      console.log('bailing out')\n      return { board: actions.board.reset()() }\n    }\n\n    return {\n      board: actions.board.reset()(),\n      ledger: [...ledger, [src, dst]]\n    }\n  },\n  tapVigor: player => state => ({\n    ...state,\n    vigor: {\n      ...state.vigor,\n      [player]: (state.vigor[player] + 1) % 3\n    }\n  })\n}\n\nexport default actions\n","const state = {\n  pools: {\n    distance: 10,\n    shadow: 0,\n    lifeTop: 8,\n    lifeBottom: 8,\n    auraTop: 3,\n    auraBottom: 3,\n    flareTop: 0,\n    flareBottom: 0\n  },\n  board: {\n    dragging: false,\n    src: null,\n    dst: null\n  },\n  ledger: [],\n  vigor: {\n    top: 0,\n    bottom: 1\n  }\n}\n\nexport default state\n","import { h } from 'hyperapp'\n\nexport default ({ visible }) => (\n  <svg\n    width=\"79.578mm\"\n    height=\"158.75mm\"\n    version=\"1.1\"\n    viewBox=\"0 0 79.578 158.75\"\n    style={{\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      width: '100%',\n      height: '100%'\n    }}\n  >\n    <g transform=\"translate(-13.128 -80.042)\">\n      <path\n        d=\"m92.226 164.71c3.9811-28.587-18.143-84.667-18.143-84.667l-21.167 21.167-21.167-21.167s-22.124 56.08-18.143 84.667c3.8559 27.688 39.31 74.083 39.31 74.083s35.454-46.395 39.31-74.083z\"\n        fill={visible ? '#f5a5ad' : 'white'}\n        stroke={!visible ? '#f5a5ad' : ''}\n        image-rendering=\"auto\"\n      />\n    </g>\n  </svg>\n)\n","import { h } from 'hyperapp'\n\nexport default function Pool({ name, renderer, limit }) {\n  return (\n    { board: { dragging, src, dst }, pools },\n    { board: { over, reset, startDrag }, dropToken }\n  ) => {\n    const value = pools[name]\n    const touchWrap = cb => e => {\n      e.preventDefault()\n\n      const [changedTouch] = event.changedTouches\n      const target = document.elementFromPoint(\n        changedTouch.clientX,\n        changedTouch.clientY\n      )\n      return cb(target.closest('.pool'))\n    }\n    const touchmove = touchWrap(\n      target => (dragging ? over(target.dataset.name) : null)\n    )\n    const touchend = touchWrap(\n      target =>\n        parseInt(target.dataset.value) < (target.dataset.limit || Infinity)\n          ? dropToken(target.dataset.name)\n          : reset()\n    )\n\n    const mouseup = name => () =>\n      value < (limit || Infinity) ? dropToken(name) : reset()\n    const mousedown = () => (value != 0 ? startDrag(name) : reset())\n    const label = name.replace(/(Top|Bottom)$/, '')\n\n    const className = [\n      'pool',\n      'pool-' + name,\n      'pool-' + label,\n      value == 0 ? 'empty' : '',\n      src == name && value == 0 ? 'invalid-src' : '',\n      dst == name && value == limit ? 'invalid-dst' : ''\n    ].join(' ')\n\n    const defaultRenderer = (\n      <div class=\"default-renderer pool-content\">\n        {label}: {value}/{limit ? limit : '∞'}\n      </div>\n    )\n    return (\n      <div\n        class={className}\n        data-name={name}\n        data-limit={limit}\n        data-value={value}\n        onmousedown={mousedown}\n        onmouseup={mouseup(name)}\n        onmouseover={() => (dragging ? over(name) : null)}\n        ontouchstart={mousedown}\n        ontouchend={touchend}\n        ontouchmove={touchmove}\n      >\n        {renderer ? renderer({ value, label, limit }) : defaultRenderer}\n      </div>\n    )\n  }\n}\n","import { h } from 'hyperapp'\nimport Pool from './Pool.js'\n\nconst Vigor = ({ player }) => ({ vigor }, { tapVigor }) => {\n  return (\n    <div class=\"vigor\" onclick={() => tapVigor(player)}>\n      <div class=\"vigor-title\">vigor</div>\n      <div class=\"vigor-content\">{vigor[player]}</div>\n    </div>\n  )\n}\n\nexport default function PlayerArea({ player }) {\n  return (\n    <div class={`player-area ${player == 'Top' ? 'flip' : ''}`}>\n      <Pool name={`aura${player}`} limit={5} />\n      <Pool name={`flare${player}`} />\n      <Pool name={`life${player}`} />\n      <Vigor player={player.toLowerCase()} />\n    </div>\n  )\n}\n","import { h } from 'hyperapp'\nimport Token from './token.js'\nimport PlayerArea from './PlayerArea.js'\nimport Pool from './Pool.js'\n\nconst Distance = ({ value }) => {\n  const steps = new Array(10).fill().map((v, i) => {\n    const offset = (10 - value) / 2\n    const visible = i + 1 <= value + offset && i + 1 > offset\n    const classes = ['step', `step${i}`, i % 2 == 0 ? 'flip' : ''].join(' ')\n\n    return (\n      <div class={classes} key={i + 1}>\n        <Token visible={visible} />\n      </div>\n    )\n  })\n\n  return <div class=\"distance pool-content\">{steps}</div>\n}\n\nconst Shadow = ({ value, label, limit }) => {\n  const text = `${label}: ${value}/${limit ? limit : '∞'}`\n  return (\n    <div class=\"pool-content shadow-renderer\">\n      <div>{text}</div>\n      <div class=\"flip\">{text}</div>\n    </div>\n  )\n}\n\nconst view = ({ board }) => {\n  return (\n    <div class={`board ${board.dragging ? 'dragging' : ''}`}>\n      <PlayerArea player=\"Top\" />\n      <div class=\"common-area\">\n        <Pool name=\"shadow\" renderer={Shadow} />\n        <Pool name=\"distance\" limit={10} renderer={Distance} />\n      </div>\n      <PlayerArea player=\"Bottom\" />\n    </div>\n  )\n}\n\nexport default view\n","export default function(prevState, action, nextState) {\n  console.group(\"%c action\", \"color: gray; font-weight: lighter;\", action.name)\n  console.log(\"%c prev state\", \"color: #9E9E9E; font-weight: bold;\", prevState)\n  console.log(\"%c data\", \"color: #03A9F4; font-weight: bold;\", action.data)\n  console.log(\"%c next state\", \"color: #4CAF50; font-weight: bold;\", nextState)\n  console.groupEnd()\n}\n","import defaultLog from \"./defaultLog\"\n\nvar isFn = function(value) {\n  return typeof value === \"function\"\n}\n\nfunction makeLoggerApp(log, nextApp) {\n  return function(initialState, actionsTemplate, view, container) {\n    function enhanceActions(actions, prefix) {\n      var namespace = prefix ? prefix + \".\" : \"\"\n      return Object.keys(actions || {}).reduce(function(otherActions, name) {\n        var namedspacedName = namespace + name\n        var action = actions[name]\n        otherActions[name] =\n          typeof action === \"function\"\n            ? function(data) {\n                return function(state, actions) {\n                  var result = action(data)\n                  result =\n                    typeof result === \"function\"\n                      ? result(state, actions)\n                      : result\n                  log(state, { name: namedspacedName, data: data }, result)\n                  return result\n                }\n              }\n            : enhanceActions(action, namedspacedName)\n        return otherActions\n      }, {})\n    }\n\n    var enhancedActions = enhanceActions(actionsTemplate)\n\n    var appActions = nextApp(initialState, enhancedActions, view, container)\n    return appActions\n  }\n}\n\nexport function withLogger(optionsOrApp) {\n  if (isFn(optionsOrApp)) {\n    return makeLoggerApp(defaultLog, optionsOrApp)\n  } else {\n    var log = isFn(optionsOrApp.log) ? optionsOrApp.log : defaultLog\n    return function(nextApp) {\n      return makeLoggerApp(log, nextApp)\n    }\n  }\n}\n","import './service-worker-registration'\nimport { app } from 'hyperapp'\nimport actions from './actions/board'\nimport state from './states/board'\nimport view from './views/board'\nimport { withLogger } from '@hyperapp/logger'\n\nconst compose = (...fns) => fns.reduce((f, g) => (...args) => f(g(...args)))\nconst pipe = (...fns) => compose(...fns.reverse())\nconst calculate = ledger =>\n  ledger.reduce(\n    (acc, [from, to]) => ({\n      ...acc,\n      [from]: acc[from] - 1,\n      [to]: acc[to] + 1\n    }),\n    state.pools\n  )\n\nfunction augmentActions(actions, action, after) {\n  return {\n    ...actions,\n    [action]: (...args) => state =>\n      pipe(\n        actions[action].apply(null, args),\n        newState => ({ ...state, ...newState }),\n        after\n      )(state)\n  }\n}\n\nconst persist = (storage, key, action) => nextApp => (\n  initialState,\n  actions,\n  view,\n  elem\n) => {\n  const persistKey = state => (\n    storage.setItem(key, JSON.stringify(state[key])),\n    console.log(`persisted state['${key}'] into storage`),\n    state\n  )\n  return nextApp(\n    {\n      ...initialState,\n      [key]: JSON.parse(storage.getItem(key)) || initialState[key]\n    },\n    augmentActions(actions, action, persistKey),\n    view,\n    elem\n  )\n}\n\nconst updateUrl = nextApp => (initialState, actions, view, elem) => {\n  const setHash = state => (\n    (window.location.hash = btoa(JSON.stringify(state))),\n    console.log(`updated hash`),\n    state\n  )\n  return nextApp(\n    JSON.parse(\n      atob((window.location.hash.match(/#(.*)/) || [, 'ZmFsc2U='])[1])\n    ) || initialState,\n    augmentActions(\n      augmentActions(actions, 'tapVigor', setHash),\n      'dropToken',\n      setHash\n    ),\n    view,\n    elem\n  )\n}\n\nconst calculatePools = nextApp => (initialState, actions, view, elem) => {\n  return nextApp(\n    {\n      ...initialState,\n      pools: calculate(initialState.ledger)\n    },\n    {\n      ...actions,\n      dropToken: dst => state =>\n        pipe(\n          actions.dropToken(dst),\n          newState => ({ ...state, ...newState }),\n          state => ({\n            ...state,\n            pools: calculate(state.ledger)\n          }),\n          state => (console.log('calculated pools: ', state.pools), state)\n        )(state)\n    },\n    view,\n    elem\n  )\n}\n\nconst setHash = nextApp => (initialState, actions, view, elem) => {\n  return nextApp(initialState, actions, view, elem)\n}\n\ncompose(\n  persist(sessionStorage, 'ledger', 'dropToken'),\n  persist(sessionStorage, 'vigor', 'tapVigor'),\n  updateUrl,\n  setHash,\n  calculatePools,\n  withLogger\n)(app)(state, actions, view, document.body)\n"],"names":["navigator","addEventListener","serviceWorker","register","window","location","pathname","then","reg","onupdatefound","installingWorker","installing","onstatechange","state","controller","log","error","catch","e","actions","dragging","src","dst","board","ledger","reset","vigor","player","visible","Pool","name","renderer","limit","pools","over","startDrag","dropToken","value","touchWrap","preventDefault","event","changedTouches","changedTouch","target","document","elementFromPoint","clientX","clientY","cb","closest","touchmove","dataset","touchend","parseInt","Infinity","mouseup","mousedown","label","replace","className","join","defaultRenderer","Vigor","tapVigor","PlayerArea","toLowerCase","Distance","steps","Array","fill","map","v","i","offset","classes","Shadow","text","view","compose","fns","reduce","f","g","pipe","reverse","calculate","acc","from","to","augmentActions","action","after","args","apply","newState","persist","storage","key","initialState","elem","persistKey","setItem","JSON","stringify","console","nextApp","parse","getItem","updateUrl","setHash","hash","btoa","atob","match","calculatePools","sessionStorage","withLogger","app","body"],"mappings":"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"}